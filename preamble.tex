% MATH
\usepackage{amsmath,amsthm,amssymb}
\usepackage{bm}
\usepackage{mathtools}


% LAYOUT
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\setsecnumdepth{subsection}

% https://tex.stackexchange.com/questions/352965/abstract-for-each-part-in-book-class
\usepackage{xpatch}
\makeatletter
\xpretocmd{\@endpart}{%
  \ifx\@abstract\@empty\else
    \bigskip
    \begin{quote}\@abstract\end{quote}
    \global\let\@abstract\@empty
  \fi
}{}{}
\newcommand{\partabstract}[1]{%
  \renewcommand{\@abstract}{#1}%
}
\newcommand{\@abstract}{}
\makeatother

\usepackage{shorttoc}
\usepackage{titletoc}
\usepackage{libertine}
\newcommand\partialtocname{Chapter contents}
\newcommand\ToCrule{\noindent\rule[5pt]{\textwidth}{1.3pt}}
\newcommand\ToCtitle{{\large\bfseries\partialtocname}\vskip2pt\ToCrule}
\makeatletter
\newcommand\Mprintcontents{
  \hypersetup{
      linkcolor={black}
  }
  \ToCtitle
  % \ttl@printlist[chapters]{toc}{}{1}{}\par\nobreak
  \ttl@printlist[chapters]{toc}{1}{1}{2}\par\nobreak
  \ToCrule
  }
\makeatother

\usepackage[hypertexnames=false]{hyperref}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={red!50!black},
    urlcolor={red!80!black}
}
\usepackage{cleveref}
\usepackage{autonum}

\usepackage{microtype}
\makeatletter\AtBeginDocument{\let\@elt\relax}\makeatother

\usepackage{thmtools, thm-restate}
\declaretheorem{theorem}
\declaretheorem{lemma}
\declaretheorem{definition}
\declaretheorem{example}
\declaretheorem{remark}

\usepackage[numbers]{natbib}
\bibliographystyle{apalike}
 